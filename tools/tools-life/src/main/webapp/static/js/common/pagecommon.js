//art.dialog.tips('')
eval(function(B,D,A,G,E,F){function C(A){return A<62?String.fromCharCode(A+=A<26?65:A<52?71:-4):A<63?'_':A<64?'$':C(A>>6)+C(A&63)}while(A>0)E[C(G--)]=D[--A];return B.replace(/[\w\$]+/g,function(A){return E[A]==F[A]?A:E[A]})}('(6(E,C,D,A){c B,X,W,J="@_.DATA",K="@_.OPEN",H="@_.OPENER",I=C.k=C.k||"@_.WINNAME"+(Bd Bo).Be(),F=C.VBArray&&!C.XMLHttpRequest;E(6(){!C.Bu&&7.BY==="B0"&&Br("9 Error: 7.BY === \\"B0\\"")});c G=D.d=6(){c W=C,X=6(A){f{c W=C[A].7;W.BE}u(X){v!V}v C[A].9&&W.BE("frameset").length===U};v X("d")?W=C.d:X("BB")&&(W=C.BB),W}();D.BB=G,B=G.9,W=6(){v B.BW.w},D.m=6(C,B){c W=D.d,X=W[J]||{};W[J]=X;b(B!==A)X[C]=B;else v X[C];v X},D.BQ=6(W){c X=D.d[J];X&&X[W]&&1 X[W]},D.through=X=6(){c X=B.BR(i,BJ);v G!==C&&(D.B4[X.0.Z]=X),X},G!==C&&E(C).BN("unload",6(){c A=D.B4,W;BO(c X BS A)A[X]&&(W=A[X].0,W&&(W.duration=U),A[X].s(),1 A[X])}),D.p=6(B,O,BZ){O=O||{};c N,L,M,Bc,T,S,R,Q,BF,P=D.d,Ba="8:BD;n:-Bb;d:-Bb;Bp:o U;Bf:transparent",BI="r:g%;x:g%;Bp:o U";b(BZ===!V){c BH=(Bd Bo).Be(),BG=B.replace(/([?&])W=[^&]*/,"$1_="+BH);B=BG+(BG===B?(/\\?/.test(B)?"&":"?")+"W="+BH:"")}c G=6(){c B,C,W=L.2.B2(".aui_loading"),A=N.0;M.addClass("Bi"),W&&W.hide();f{Q=T.$,R=E(Q.7),BF=Q.7.Bg}u(X){T.q.5=BI,A.z?N.z(A.z):N.8(A.n,A.d),O.j&&O.j.l(N,Q,P),O.j=By;v}B=A.r==="Bt"?R.r()+(F?U:parseInt(E(BF).Bv("marginLeft"))):A.r,C=A.x==="Bt"?R.x():A.x,setTimeout(6(){T.q.5=BI},U),N.Bk(B,C),A.z?N.z(A.z):N.8(A.n,A.d),O.j&&O.j.l(N,Q,P),O.j=By},I={w:W(),j:6(){N=i,L=N.h,Bc=L.BM,M=L.2,T=N.BK=P.7.Bn("BK"),T.Bx=B,T.k="Open"+N.0.Z,T.q.5=Ba,T.BX("frameborder",U,U),T.BX("allowTransparency",!U),S=E(T),N.2().B3(T),Q=T.$;f{Q.k=T.k,D.m(T.k+K,N),D.m(T.k+H,C)}u(X){}S.BN("BC",G)},s:6(){S.Bv("4","o").unbind("BC",G);b(O.s&&O.s.l(i,T.$,P)===!V)v!V;M.removeClass("Bi"),S[U].Bx="about:blank",S.remove();f{D.BQ(T.k+K),D.BQ(T.k+H)}u(X){}}};Bq O.Y=="6"&&(I.Y=6(){v O.Y.l(N,T.$,P)}),Bq O.y=="6"&&(I.y=6(){v O.y.l(N,T.$,P)}),1 O.2;BO(c J BS O)I[J]===A&&(I[J]=O[J]);v X(I)},D.p.Bw=D.m(I+K),D.BT=D.m(I+H)||C,D.p.origin=D.BT,D.s=6(){c X=D.m(I+K);v X&&X.s(),!V},G!=C&&E(7).BN("mousedown",6(){c X=D.p.Bw;X&&X.w()}),D.BC=6(C,D,B){B=B||!V;c G=D||{},H={w:W(),j:6(A){c W=i,X=W.0;E.ajax({url:C,success:6(X){W.2(X),G.j&&G.j.l(W,A)},cache:B})}};1 D.2;BO(c F BS G)H[F]===A&&(H[F]=G[F]);v X(H)},D.Br=6(B,A){v X({Z:"Alert",w:W(),BL:"warning",t:!U,BA:!U,2:B,Y:!U,s:A})},D.confirm=6(C,A,B){v X({Z:"Confirm",w:W(),BL:"Bm",t:!U,BA:!U,3:U.V,2:C,Y:6(X){v A.l(i,X)},y:6(X){v B&&B.l(i,X)}})},D.prompt=6(D,B,C){C=C||"";c A;v X({Z:"Prompt",w:W(),BL:"Bm",t:!U,BA:!U,3:U.V,2:["<e q=\\"margin-bottom:5px;font-Bk:12px\\">",D,"</e>","<e>","<Bl B1=\\"",C,"\\" q=\\"r:18em;Bh:6px 4px\\" />","</e>"].join(""),j:6(){A=i.h.2.B2("Bl")[U],A.select(),A.BP()},Y:6(X){v B&&B.l(i,A.B1,X)},y:!U})},D.tips=6(B,A){v X({Z:"Tips",w:W(),title:!V,y:!V,t:!U,BA:!V}).2("<e q=\\"Bh: U 1em;\\">"+B+"</e>").time(A||V.B6)},E(6(){c A=D.dragEvent;b(!A)v;c B=E(C),X=E(7),W=F?"BD":"t",H=A.prototype,I=7.Bn("e"),G=I.q;G.5="4:o;8:"+W+";n:U;d:U;r:g%;x:g%;"+"cursor:move;filter:alpha(3=U);3:U;Bf:#FFF",7.Bg.B3(I),H.Bj=H.Bs,H.BV=H.Bz,H.Bs=6(){c E=D.BP.h,C=E.BM[U],A=E.2[U].BE("BK")[U];H.Bj.BR(i,BJ),G.4="block",G.w=D.BW.w+B5,W==="BD"&&(G.r=B.r()+"a",G.x=B.x()+"a",G.n=X.scrollLeft()+"a",G.d=X.scrollTop()+"a"),A&&C.offsetWidth*C.offsetHeight>307200&&(C.q.BU="hidden")},H.Bz=6(){c X=D.BP;H.BV.BR(i,BJ),G.4="o",X&&(X.h.BM[U].q.BU="visible")}})})(i.art||i.Bu,i,i.9)','P|R|T|U|V|W|0|1|_|$|ok|id|px|if|var|top|div|try|100|DOM|this|init|name|call|data|left|none|open|style|width|close|fixed|catch|return|zIndex|height|cancel|follow|config|delete|content|opacity|display|cssText|function|document|position|artDialog|ARTDIALOG|contentWindow|lock|parent|load|absolute|getElementsByTagName|S|Y|Z|a|arguments|iframe|icon|main|bind|for|focus|removeData|apply|in|opener|visibility|_end|defaults|setAttribute|compatMode|O|Q|9999em|X|new|getTime|background|body|padding|aui_state_full|_start|size|input|question|createElement|Date|border|typeof|alert|start|auto|jQuery|css|api|src|null|end|BackCompat|value|find|appendChild|list|3|5'.split('|'),109,122,{},{}))

//-----------公共方法---------------------

/**
 * 提示消息, msg:消息类容 type:消息类型 【succeed，warning，question，error】 title:消息标题 不填
 * 则为“消息” time:自动关闭时间,为空则不自动关闭 示例：showMessage("提示信息内容。", "", "","");
 */
function showMessage(msg, type, title, time) {
	var iconvalue;
	switch (type) {
	case 'succeed':
		mtitle = title || "成功";
		iconvalue = 'succeed';
		break;
	case 'warning':
		mtitle = title || "警示";
		iconvalue = 'warning';
		break;
	case 'question':
		mtitle = title || "提示";
		iconvalue = 'question';
		break;
	case 'error':
		mtitle = title || "错误";
		iconvalue = 'error';
		break;
	default:
		mtitle = title || "消息";
		iconvalue = 'warning';
		break;
	}
	art.dialog({
		id : 'globalMsgFrame',
		title : mtitle,
		icon : iconvalue,
		width : 320,
		height : 80,
		fixed : true,
		drag : false,
		resize : false,
		content : msg,
		button : [ {
			name : '关闭'
		} ]
	});
	time = time || "";
	if (time != "") {
		art.dialog.list['globalMsgFrame'].title(mtitle + " - " + time
				+ "秒后自动关闭");
		art.dialog.list['globalMsgFrame'].time(time);
	}
}
$(document).ajaxSuccess(function() {
	$('[id="querybut"]').show();
});

/*
 * ** 简化的ajax *****
 */
function ofajax(options) {
	if (options.showloading) {
		if ($('#dataTable').length > 0) {
			$('#dataTable')
					.html(
							'<tr><td  colspan="10" align="center"><img src="http://pic.ofcard.com/themes/boss/js/loadingAnimation.gif" /></td></tr>');
		}
	}
	$('[id="querybut"]').hide();
	var defaults = {
		type : "post",
		dataType : "json",
		timeout : 60000,
		complete:function(){
			$('[id="querybut"]').show();
		}
	};
	options = $.extend(defaults, options);
	return $.ajax(options);
}
/*
 * ** 简化的 formajax *****
 */
$.fn.ofajaxForm = function(options) {
	var defaults = {
		url : "",
		type : "post",
		dataType : "json",
		timeout : 60000,
		beforeSend : function() {
			$('[id="querybut"]').hide();
		},
		error : function(jqXHR, textStatus, errorThrown) {
			$('[id="querybut"]').show();
			/*if (jqXHR.status == 403) {
				error('对不起，您没有权限！',{cancel:false});
			} else if (jqXHR.status == 499) {
				error('会话过期，请重新登录！', function(){
					$("<script>" + jqXHR.responseText + "</script>").appendTo($("body"));
				},{cancel:false});
				setTimeout(function() {
					parent.location.reload();
				}, 2000);
			}*/
		}
	};
	options = $.extend(defaults, options);
	return $(this).ajaxForm(options);
};

$.fn.ofAjaxSubmit = function(options) {
	var defaults = {
		type : "post",
		dataType : "json",
		timeout : 60000,
		beforeSend : function() {
			$('[id="querybut"]').hide();
		},
		error : function(jqXHR, textStatus, errorThrown) {
			$('[id="querybut"]').show();
			/*if (jqXHR.status == 403) {
				error('对不起，您没有权限！',{cancel:false});
			} else if (jqXHR.status == 499) {
				error('会话过期，请重新登录！', function(){
					$("<script>" + jqXHR.responseText + "</script>").appendTo($("body"));
				},{cancel:false});
				
			}*/
		}
	};
	options = $.extend(defaults, options);
	return $(this).ajaxSubmit(options);
};

// 计算字符串长度，中文算2个字符
String.prototype.OFLength = function() {
	var reLen = 0;
	for ( var i = 0; i < this.length; i++) {
		if (this.charCodeAt(i) < 27 || this.charCodeAt(i) > 126) {
			reLen += 2;
		} else {
			reLen++;
		}
	}
	return reLen;
};

String.prototype.toEntity=function(){
	var _str = this;
	_str = _str.replace(/\&/g,"&amp;")
	.replace(/\"/g,"&quot;")
	.replace(/\</g,"&lt;")
	.replace(/\>/g,"&gt;")
	.replace(/ /g,"&nbsp;")
	.replace(/\n/g,"<br/>");
	return _str;
};

String.prototype.toCharacter=function(){
	var _str = this;
	_str = _str.replace(/\<br\/\>/g,"\n")
	.replace(/\&quot;/g,"\"")
	.replace(/\&lt;/g,"<")
	.replace(/\&gt;/g,">")
	.replace(/\&nbsp;/g," ")
	.replace(/\&amp;/g,"&");
	return _str;
};

// 兼容性判断
var Navigator = function() {
	var self = null;
	if ((typeof (Window) != "undefined" && (self = Window.prototype))
			|| (self = window)) {
		self.isFF = function() {
			return window.navigator.userAgent.indexOf("Firefox") > -1;
		};
		self.isIE = function() {
			return window.navigator.userAgent.indexOf("MSIE") > -1;
		};
		self.isChrome = function() {
			return window.navigator.userAgent.indexOf("Chrome") > -1;
		};
		self.isOpera = function() {
			return window.navigator.userAgent.indexOf("Opera") > -1;
		};
		self.isSafari = function() {
			return window.navigator.userAgent.indexOf("Safari") > -1;
		};
		self.isIE6 = function() {
			return /^.+MSIE\s6\.\d.+$/ig.test(window.navigator.userAgent);
		};
		self.isIE7 = function() {
			return /^.+MSIE\s7\.\d.+$/ig.test(window.navigator.userAgent);
		};
		self.isIE8 = function() {
			return /^.+MSIE\s8\.\d.+$/ig.test(window.navigator.userAgent);
		};
		self.isHighVersionIE = function() {
			return /^.+MSIE\s(9|10)\.\d.+$/ig.test(window.navigator.userAgent);
		};
	}
	return this;
}();

// 统一处理ajax异常回调
$(function() {
	$(document).ajaxComplete(function(event, request, setting) {
		if(setting.dataType != 'html'){
			if (499 == request.status){
				var resp = request.responseText;
				error('会话过期，请重新登录！', function(){
					$("<script>" + resp + "</script>").appendTo($("body"));
				});
			}else if (403 == request.status) {
				error("页面资源禁止访问");
			} else if (/^5\d{2}$/g.test(request.status+"")) {
				error("服务器异常");
			} else if (404 == request.status) {
				error("您访问的资源不存在");
			} else if (408 == request.status) {
				error("网络超时，请检查您的网络，稍后重试。");
			} else if (400 == request.status) {
				error("无效的请求");
			} else if (/^4\d{2}$/g.test(request.status)) {
				error("请求发生错误，请检查您的网络，稍后重试。");
			}
		}
	});
});

// 对话框初始化
var Dialog = function() {
	var self = null;
	if ((typeof (Window) != "undefined" && (self = Window.prototype))
			|| (self = window)) {
		self.dialog = {
			title : "提示",
			content : "",
			lock : true,
			fixed : true,
			okValue : "确定",
			cancelValue : "取消",
			minWidth : 200,
			ok : function() {
			}
		};

		function _dialog(content, callback, attach, obj, param) {
			try {
				var option = $.extend({}, obj.dialog, param);
				if (typeof attach == "object") {
					option = $.extend(option, attach);
				}
				if (typeof (callback) == "function") {
					option.ok = function(){
						return callback.apply(obj,arguments);
					};
				}
				if (content) {
					if(typeof content == "object"){
						option.content = JSON.stringify(content);
					}else{
						option.content = content.toString();
					}
				}
				option.cancel = false;
				return art.dialog.top.art.dialog(option);
			} catch (e) {
				if(console){
					console.log(e);
				}
			}
		}

		self.openDialog = function(url,attach){	
			var params = {lock:true,init:function(iWin,tWin){
				setTimeout(function(){
					//var frame = iWin.frameElement;
					//var doc = iWin.document.documentElement;
					var fixHeight = iWin.$(iWin.document).height();
					//var fixHeight = (doc.scrollHeight>frame.offsetHeight&&doc.scrollHeight)||(doc.offsetHeight);
					var fixWidth = iWin.$(iWin.document).width();
					tWin.$(".aui_title").text(iWin.document.title);		
					tWin.$(".aui_content iframe").css({height:fixHeight,width:fixWidth});
					tWin.$(".aui_main,.aui_state_lock").css({height:"auto",width:"auto"});
					var ww = $(tWin).width(),
    	         	wh = $(tWin).height(),
    	         	ow = tWin.$(".aui_state_lock")[0].offsetWidth,
    	        	oh = tWin.$(".aui_state_lock")[0].offsetHeight,
    	        	left = (ww - ow) / 2 ,
    	        	top = (wh - oh) * 382 / 1000;// 黄金比例
					tWin.$(".aui_state_lock").css("left",Math.max(parseInt(left), 0));
					tWin.$(".aui_state_lock").css("top",Math.max(parseInt(top), 0));
				},0);
			}};
			if(typeof attach == "function"){
				params.close = function(){
					var data = art.dialog.data("dialogData");
					attach(data);
					art.dialog.removeData("dialogData");
				};
			}
			if(typeof attach == "object"){
				$.extend(true,params,attach);
				var callback = params.close;
				params.close = function(){
					var data = art.dialog.data("dialogData");
					callback(data);
					art.dialog.removeData("dialogData");
				};
			};
			art.dialog.open(url,params,false);
		};
		
		self.$alert = function(content, callback, attach) {
			return _dialog(content, callback, attach, this, {});
		};
		self.error = function(content, callback, attach) {
			_dialog(content, callback, attach, this, {
				"icon" : "error",
				"title" : "错误"
			});
		};
		self.warn = function(content, callback, attach) {
			_dialog(content, callback, attach, this, {
				"icon" : "warning",
				"title" : "警告"
			});
		};
		self.succeed = function(content, callback, attach) {
			_dialog(content, callback, attach, this, {
				"icon" : "succeed",
				"title" : "成功"
			});
		};
		self.question = function(content, callback, attach) {
			_dialog(content, callback, attach, this, {
				"icon" : "question",
				"title" : "提示"
			});
		};
		self.$confirm = function(content, ocallback, ccallback, attach) {
			var _this = this;
			var option = $.extend({}, this.dialog);
			if (attach) {
				option = $.extend(option, this.dialog, attach);
			}
			if (typeof (ocallback) == "function") {
				option.ok = function(){
					ocallback.apply(_this,arguments);
				};
			}
			if (typeof (ccallback) == "function") {
				option.cancel = function(){
					ccallback.apply(_this,arguments)};
			}
			if (content) {
				option.content = content.toString();
			}
			return art.dialog.top.art.dialog(option);
		};
	}
	return this;
}();

// 遮罩
function Mask(obj) {
	this.defaultParams = {
		ref : obj,
		speed : "normal",
		layer : null,
		callback : function() {
		},
		timeout : 0,
		errorCallback : function() {
		}
	};
	this.element = $(obj);
	this.showMask = function(options) {
		options = $.extend(this.defaultParams, options);
		this.element.hide();
		if (!this.mask) {
			var html = "<div style='background:url(\"/images/loading.gif\") no-repeat center center;width:90%;height:50px;'></div>";
			if (typeof (options.layer) == "string") {
				html = options.layer;
			} else if (typeof (options.layer) == "function") {
				html = options.layer(this.element);
			}
			if (typeof (html) == "string") {
				this.mask = $(html).insertAfter(options.ref);
			}
		}
		if (typeof (options.callback) == "function") {
			options.callback(this.element);
		}
	};
	this.hideMask = function(options) {
		options = $.extend(this.defaultParams, options);
		if (this.mask) {
			this.mask.slideUp("fast");
			this.element.slideDown(options.speed);
			this.mask.remove();
			this.mask = null;
		}
		if (typeof (options.callback) == "function") {
			options.callback(this.element);
		}
	};
}

//弹窗
(function(w) {
	var wins = [];
	var length = 0;
	var OFWindow = function(arguments){
		length++;
		var default_params = {
				url:'',
				width:'500',
				height:'500',
				left:'0',
				top:'0',
				resizable:'yes',
				menubar:'no',
				location:'yes',
				status:'yes',
				scrollbars:'yes',
				title:'',
				singleton:true,
				autosize:false,
				onload:function(){},
				onunload:function(){}
		};
		
		var opt = {};	
		for (var i = 0; i < arguments.length; i++) {
			if(i==0 && typeof arguments[i] == "string"){
				opt.url = arguments[i];
			}
			if(i==1 && !isNaN(arguments[i]+'') ){
				opt.width = arguments[i];
			}
			if(i==2 && !isNaN(arguments[i]+'') ){
				opt.height = arguments[i];
			}
			if(typeof arguments[i] == "object"){
				opt = $.extend(true,{},default_params,arguments[i],opt);
				break;
			}
			if(typeof arguments[i] == "function"){
				opt.onload = arguments[i];
			}
		}
		opt = $.extend(true,{},default_params,opt);
		var params = [];
		params.push("width=" + (isNaN(opt.width+'')?default_params.width:opt.width ));
		params.push("height=" + (isNaN(opt.height+'')?default_params.height:opt.height ));
		params.push("left=" + (isNaN(opt.left+'')?default_params.left:opt.left ));
		params.push("top=" +  (isNaN(opt.top+'')?default_params.left:opt.top ));
		params.push("resizable=" + ((opt.resizable == true || opt.resizable == "yes")?"yes":"no"));
		params.push("menubar=" + ((opt.menubar == true || opt.menubar == "yes")?"yes":"no"));
		params.push("location=" + ((opt.location == true || opt.location == "yes")?"yes":"no"));
		params.push("status=" + ((opt.status == true || opt.status == "yes")?"yes":"no"));
		params.push("scrollbars=" + ((opt.scrollbars == true || opt.scrollbars == "yes")?"yes":"no"));
		var paramstr = params.join();
		
		if(opt.singleton && length > 1){
			length--;
			return;
		}
		var curWindow = this.win = window.open(opt.url, '', paramstr);
		function addEvent(eventName,element,fn){
			  if (element.attachEvent) element.attachEvent("on"+eventName,fn);
			  else element.addEventListener(eventName,fn,false);
		}
		addEvent("load",curWindow,function(){
			addEvent("unload",curWindow,function(){
					for ( var i = 0; i < wins.length; i++) {
						if(wins[i] == curWindow){
							wins.splice(i,1);
							length--;
							
							break;
						}
					}
					if(opt.onunload){
						opt.onunload.apply(curWindow,arguments);
					}
			});
			if(opt.autosize){
				curWindow.innerWidth = curWindow.document.documentElement.scrollWidth;
				curWindow.innerHeight = curWindow.document.documentElement.scrollHeight;
			}
			opt.onload.apply(curWindow,arguments);
		});
		wins.push(this.win);
	};
	
	w.openWindow = function(){
		return new OFWindow(arguments).win;
	};
	
	w.onunload = function(){
		for ( var i = 0; i < length; i++) {
			wins[i].close();
		}
	};

})(this);

var Image = function(){
	var zoom = function(url,size){
		if(typeof url != "string"){
			return "";
		}
		if(!/\-\d+\-\d+\.[A-Za-z0-9]+$/g.test(url)){
			var index = url.lastIndexOf(".");
			var extend = url.substring(index+1);
			var path = url.substring(0,index);
			return path + "-" + size.width + "-"+size.height + "." + extend;
		}
		return url;
		
	};

	var url = function(str,domain){
		var regex = /^https?:\/\//g;
		if(regex.test(str)){
			return str;
		}
		domain = domain.replace(/\/$/g,"");
		str = str.replace(/^\//g,"");
		return domain + "/" +str;
	};
	
	return {
		zoom:function(a,b){
			return zoom(a,b);
		},
		url:function(a,b){
			return url(a,b);
		},
		specSize:{width:44,height:28},
		brandSize:{width:131,height:60},
		waresSize:{width:50,height:50}
	};
}();


/**
 * 右下角弹出公共
 * add by fengsen
 */
artDialog.notice = function (options) {
    var opt = options || {},
        api, aConfig, hide, wrap, top,
        duration = 800;
        
    var config = {
        id: 'Notice',
        top: '100%',
        left: '98%',
        fixed: true,
        drag: false,
        resize: false,
        follow: null,
        lock: false,
        init: function(here){
            api = this;
            aConfig = api.config;
            wrap = api.DOM.wrap;
            top = parseInt(wrap[0].style.top);
            hide = top + wrap[0].offsetHeight;
            
            wrap.css('top', hide + 'px')
                .animate({top: top + 'px'}, duration, function () {
                    opt.init && opt.init.call(api, here);
                });
        },
        close: function(here){
            wrap.animate({top: hide + 'px'}, duration, function () {
                opt.close && opt.close.call(this, here);
                aConfig.close = $.noop;
                api.close();
            });
            
            return false;
        }
    };	
    
    for (var i in opt) {
        if (config[i] === undefined) config[i] = opt[i];
    };
    
    return artDialog(config);
};

(function($){
    $.fn.hoverDelay = function(options){
        var defaults = {
            hoverDuring: 100,
            outDuring: 200,
            hoverEvent: function(){
                $.noop();
            },
            outEvent: function(){
                $.noop();
            }
        };
        var sets = $.extend(defaults,options || {});
        var hoverTimer, outTimer, that = this;
        return $(this).each(function(){
            $(this).hover(function(){
                clearTimeout(outTimer);
                hoverTimer = setTimeout(function(){sets.hoverEvent.apply(that)}, sets.hoverDuring);
            },function(){
                clearTimeout(hoverTimer);
                outTimer = setTimeout(function(){sets.outEvent.apply(that)}, sets.outDuring);
            });
        });
    }
})(jQuery);

$(document).ready(function() {
    $.ajaxSetup({
        cache : false
    });

    //回车绑定检索
    document.onkeydown = function(e){
        var ev = document.all ? window.event : e;
        if(ev.keyCode==13) {
            try{
                flushPage('0');
            }catch(e){}
        }
    };

    //tip提示
    $(".tip-wrapper").each(function(){
        $(this).hoverDelay({
            hoverEvent:function(){
                $(this).find(".tip-module").fadeIn("fast");
            },
            outEvent:function(){
                $(this).find(".tip-module").fadeOut("fast");
            }
        });
    });


});

Date.prototype.Format = function (fmt) { //author: meizz 
    var o = {
        "M+": this.getMonth() + 1, //月份 
        "d+": this.getDate(), //日 
        "h+": this.getHours(), //小时 
        "m+": this.getMinutes(), //分 
        "s+": this.getSeconds(), //秒 
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度 
        "S": this.getMilliseconds() //毫秒 
    };
    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
    if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
};